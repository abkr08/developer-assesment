{"ast":null,"code":"import _slicedToArray from \"/Users/Gotzil/Desktop/React/Assessment/client/students-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Gotzil/Desktop/React/Assessment/client/students-list/src/components/StudentsView.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport classes from './StudentsView.module.css';\n\nconst StudentsView = props => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        studentList = _useState2[0],\n        updateList = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        nationalities = _useState4[0],\n        updateNationalities = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        selectedNationality = _useState6[0],\n        updateSelectedNationality = _useState6[1]; // useEffect(() => {\n  //     axios.get('http://localhost:8080/students')\n  //         .then(res => {\n  //             updateList(res.data);\n  //             // let nationalities = Array.from(new Set(res.data.map(item => item.nationality)));\n  //             let nationalities = res.data.map(item => item.nationality).sort((a, b) => {\n  //                 return a.localeCompare(b);\n  //             });\n  //             updateNationalities(nationalities);\n  //         })\n  //         .catch(err => console.log(err));\n  // });\n\n\n  const selectionChangedHandler = event => {\n    updateSelectedNationality(event.target.value);\n    console.log(selectedNationality, event.target.value);\n  };\n\n  let content = null;\n\n  if (!studentList.length) {\n    content = React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    });\n  } else {\n    content = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: selectionChangedHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, nationalities.map((item, i) => React.createElement(\"option\", {\n      key: item + i,\n      value: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, item))), React.createElement(\"ul\", {\n      className: classes.ListContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, studentList.map(student => React.createElement(\"li\", {\n      className: classes.ListItem,\n      key: student.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"\".concat(student.firstName, \" \").concat(student.lastName, \" (\").concat(student.age, \")\")))));\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.StudentsView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, content);\n};\n\nexport default StudentsView;\n\nconst Spinner = () => React.createElement(\"div\", {\n  className: classes.Spinner,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54\n  },\n  __self: this\n});","map":{"version":3,"sources":["/Users/Gotzil/Desktop/React/Assessment/client/students-list/src/components/StudentsView.js"],"names":["React","useState","useEffect","axios","classes","StudentsView","props","studentList","updateList","nationalities","updateNationalities","selectedNationality","updateSelectedNationality","selectionChangedHandler","event","target","value","console","log","content","length","map","item","i","ListContainer","student","ListItem","id","firstName","lastName","age","Spinner"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP,MAAoB,2BAApB;;AAEA,MAAMC,YAAY,GAAGC,KAAK,IAAI;AAAA,oBACQL,QAAQ,CAAC,EAAD,CADhB;AAAA;AAAA,QACnBM,WADmB;AAAA,QACNC,UADM;;AAAA,qBAEmBP,QAAQ,CAAC,EAAD,CAF3B;AAAA;AAAA,QAEnBQ,aAFmB;AAAA,QAEJC,mBAFI;;AAAA,qBAG+BT,QAAQ,CAAC,IAAD,CAHvC;AAAA;AAAA,QAGnBU,mBAHmB;AAAA,QAGEC,yBAHF,kBAI1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,QAAMC,uBAAuB,GAAGC,KAAK,IAAI;AACrCF,IAAAA,yBAAyB,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAzB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,mBAAZ,EAAiCG,KAAK,CAACC,MAAN,CAAaC,KAA9C;AACH,GAHD;;AAIA,MAAIG,OAAO,GAAG,IAAd;;AACA,MAAI,CAACZ,WAAW,CAACa,MAAjB,EAAwB;AACpBD,IAAAA,OAAO,GAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAV;AACH,GAFD,MAEO;AACHA,IAAAA,OAAO,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,QAAQ,EAAEN,uBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKJ,aAAa,CAACY,GAAd,CAAkB,CAACC,IAAD,EAAOC,CAAP,KAAa;AAAQ,MAAA,GAAG,EAAED,IAAI,GAACC,CAAlB;AAAqB,MAAA,KAAK,EAAED,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCA,IAAnC,CAA/B,CADL,CADJ,EAII;AAAI,MAAA,SAAS,EAAElB,OAAO,CAACoB,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKjB,WAAW,CAACc,GAAZ,CAAgBI,OAAO,IACpB;AAAI,MAAA,SAAS,EAAErB,OAAO,CAACsB,QAAvB;AAAiC,MAAA,GAAG,EAAED,OAAO,CAACE,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAsDF,OAAO,CAACG,SAA9D,cAA2EH,OAAO,CAACI,QAAnF,eAAgGJ,OAAO,CAACK,GAAxG,OADH,CADL,CAJJ,CADJ;AAYH;;AACD,SACI;AAAK,IAAA,SAAS,EAAE1B,OAAO,CAACC,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKc,OADL,CADJ;AAKH,CA3CD;;AA6CA,eAAed,YAAf;;AAEA,MAAM0B,OAAO,GAAG,MACZ;AAAK,EAAA,SAAS,EAAE3B,OAAO,CAAC2B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADJ","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\n\nimport classes from './StudentsView.module.css';\n\nconst StudentsView = props => {\n    const [studentList, updateList] = useState([]);\n    const [nationalities, updateNationalities] = useState([]);\n    const [selectedNationality, updateSelectedNationality] = useState(null);\n    // useEffect(() => {\n    //     axios.get('http://localhost:8080/students')\n    //         .then(res => {\n    //             updateList(res.data);\n    //             // let nationalities = Array.from(new Set(res.data.map(item => item.nationality)));\n    //             let nationalities = res.data.map(item => item.nationality).sort((a, b) => {\n    //                 return a.localeCompare(b);\n    //             });\n    //             updateNationalities(nationalities);\n    //         })\n    //         .catch(err => console.log(err));\n    // });\n\n    const selectionChangedHandler = event => {\n        updateSelectedNationality(event.target.value);\n        console.log(selectedNationality, event.target.value)\n    }\n    let content = null;\n    if (!studentList.length){\n        content = <Spinner />\n    } else {\n        content = (\n            <div>\n                <select onChange={selectionChangedHandler} >\n                    {nationalities.map((item, i) => <option key={item+i} value={item}>{item}</option>)}\n                </select>\n                <ul className={classes.ListContainer}>\n                    {studentList.map(student => (\n                        <li className={classes.ListItem} key={student.id}>{`${student.firstName} ${student.lastName} (${student.age})`}</li>\n                    ))}\n                </ul>\n            </div>\n        )\n    }\n    return (\n        <div className={classes.StudentsView}>\n            {content}\n        </div>\n    )\n}\n\nexport default StudentsView;\n\nconst Spinner = () => (\n    <div className={classes.Spinner}></div>\n)"]},"metadata":{},"sourceType":"module"}